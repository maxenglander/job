/*! jqueryanimatesprite - v1.2.0 - 2014-02-15
* http://blaiprat.github.io/jquery.animateSprite/
* Copyright (c) 2014 blai Pratdesaba; Licensed MIT */
(function(t){"use strict";var n=function(n){return this.each(function(){var i=t(this),e=i.data("animateSprite"),r=function(t){var n=i.css("background-image").replace(/url\((['"])?(.*?)\1\)/gi,"$2"),e=new Image;e.src=n,e.onload=function(){var n=e.width,i=e.height;t(n,i)}};e||(i.data("animateSprite",{settings:t.extend({width:i.width(),height:i.height(),totalFrames:!1,columns:!1,fps:12,complete:function(){},loop:!1,autoPlay:!0},n),currentFrame:0,controlAnimation:function(){var t=function(t,n){if(t++,t>=n){if(this.settings.loop!==!0)return this.settings.complete(),clearInterval(this.interval),!1;t=0}return t};if(this.settings.animations===undefined)i.animateSprite("frame",this.currentFrame),this.currentFrame=t.call(this,this.currentFrame,this.settings.totalFrames);else{if(this.currentAnimation===undefined)for(var n in this.settings.animations){this.currentAnimation=this.settings.animations[n];break}var e=this.currentAnimation[this.currentFrame];i.animateSprite("frame",e),this.currentFrame=t.call(this,this.currentFrame,this.currentAnimation.length)}},controlTimer:function(){var t=1e3/e.settings.fps;e.settings.duration!==undefined&&(t=e.settings.duration/e.settings.totalFrames),e.interval=setInterval(function(){e.controlAnimation()},t)}}),e=i.data("animateSprite"),e.settings.columns?e.controlTimer():r(function(t,n){if(e.settings.columns=Math.round(t/e.settings.width),!e.settings.totalFrames){var i=Math.round(n/e.settings.height);e.settings.totalFrames=e.settings.columns*i}e.controlTimer()}))})},i=function(n){return this.each(function(){var i=t(this),e=i.data("animateSprite"),r=Math.floor(n/e.settings.columns),a=n%e.settings.columns;i.css("background-position",-e.settings.width*a+"px "+-e.settings.height*r+"px")})},e=function(){return this.each(function(){var n=t(this),i=n.data("animateSprite");clearInterval(i.interval)})},r=function(){return this.each(function(){var n=t(this),i=n.data("animateSprite");n.animateSprite("stopAnimation"),i.controlTimer()})},a=function(){return this.each(function(){var n=t(this),i=n.data("animateSprite");n.animateSprite("stopAnimation"),i.currentFrame=0,i.controlTimer()})},s=function(n){return this.each(function(){var i=t(this),e=i.data("animateSprite");"string"==typeof n&&e.settings.animations[n]!==e.currentAnimation&&(i.animateSprite("stopAnimation"),e.currentAnimation=e.settings.animations[n],e.currentFrame=0,e.controlTimer())})},o={init:n,frame:i,stop:e,resume:r,restart:a,play:s,stopAnimation:e,resumeAnimation:r,restartAnimation:a};t.fn.animateSprite=function(n){return o[n]?o[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?(t.error("Method "+n+" does not exist on jQuery.animateSprite"),undefined):o.init.apply(this,arguments)}})(jQuery,window);